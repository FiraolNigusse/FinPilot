{% extends 'base.html' %}
{% block content %}
<div class="max-w-2xl mx-auto mt-10 p-6 bg-white shadow-lg rounded-2xl" id="form-wrapper">
  <h2 class="text-2xl font-semibold text-center mb-4">ðŸ’¡ Smart Budget Results</h2>

  <form method="post" class="mb-6">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-xl w-full">
      Recalculate
    </button>
  </form>

  {% if result %}
    <p>Total Expenses (Rent, Groceries, Utilities): ${{ result.total_expenses }}</p>
    <p>Balance after Expenses: ${{ result.balance }}</p>
    <p>Savings Goal: ${{ result.savings_goal }}</p>
    <p>Final Surplus After Savings: ${{ result.surplus_after_savings }}</p>
    <p>Status: {{ result.status }}</p>


    <hr class="my-4">

    <h3 class="font-bold">Insights:</h3>
    <ul class="list-disc ml-6 mt-2 text-sm">
      {% for tip in result.suggestions %}
        <li>{{ tip }}</li>
      {% empty %}
        <li>No suggestions â€” you're on track!</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>
{% endblock %}
